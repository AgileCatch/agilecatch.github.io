---
layout: post
title: ì½”í‹€ë¦° ë°°ìš°ê¸°
image: /assets/img/blog/kotlin.png
accent_image: 
  background: url('/assets/img/me/wave3.jpg') center/cover
  overlay: false
accent_color: '#fff'
theme_color: '#fff'
description: >
  kotlin start!
invert_sidebar: true
categories :
 - devlog	
 - kotlin

---

# [TIL] Fragment ì•Œì•„ë³´ê¸°

ì˜¤ëŠ˜ì€ íƒœë¸”ë¦¿ìš© ë° ìŠ¤ë§ˆíŠ¸í°ìš© ë””ë°”ì´ìŠ¤ì—ì„œ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.


* toc
{:toc}
---

## Fragment ë€?

![img](https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3bc649ac-a2b4-4876-a28d-64cb2e68c950%2FUntitled.png?table=block&id=b575c358-8014-4cc8-b93e-0a7a36a26c8e&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1860&userId=&cache=v2)

- ì•¡í‹°ë¹„í‹° ìœ„ì—ì„œ ë™ì‘í•˜ëŠ” ëª¨ë“ˆí™”ëœ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
  - ì•¡í‹°ë¹„í‹°ì™€ ë¶„ë¦¬ë˜ì–´ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ì—†ë‹¤.
- ì—¬ëŸ¬ ê°œì˜ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ í•˜ë‚˜ì˜ ì•¡í‹°ë¹„í‹°ì— ì¡°í•©í•˜ì—¬ ì°½ì´ **ì—¬ëŸ¬ ê°œì¸UI**ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìœ¼ë©°,í•˜ë‚˜ì˜ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì—¬ëŸ¬ **ì•¡í‹°ë¹„í‹°ì—ì„œ ì¬ ì‚¬ìš©í•  ìˆ˜** ìˆë‹¤.



ğŸ’¡**ì‰½ê²Œë§í•´ í•œ í™”ë©´ì—ì„œ í™”ë©´ì„ ìª¼ê°œì‚¬ìš©í•´ ì—¬ëŸ¬ í™”ë©´ìœ¼ë¡œ ë³´ì´ëŠ” ê²ƒ ì²˜ëŸ¼ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.**



## ì•¡í‹°ë¹„í‹° vs í”„ë˜ê·¸ë¨¼íŠ¸ ë¹„êµ

![img](https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbf5ec753-20b0-4ce2-855a-3077e47edb11%2FUntitled.png?table=block&id=3392e74d-77c0-4d48-93b4-3a91210576dc&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1540&userId=&cache=v2)

### 1) Activity

- ì‹œìŠ¤í…œì˜ ì•¡í‹°ë¹„í‹° ë§¤ë‹ˆì €ì—ì„œ ì¸í…ë“œë¥¼ í•´ì„í•´ ì•¡í‹°ë¹„í‹°ê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤.

### **2) Fragment**

- ì•¡í‹°ë¹„í‹°ì˜ í”„ë˜ê·¸ë¨¼íŠ¸ ë§¤ë‹ˆì €ì—ì„œ ë©”ì†Œë“œë¡œ í”„ë˜ê·¸ë¨¼íŠ¸ê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤.



## í”„ë˜ê·¸ë¨¼íŠ¸ëŠ” ì™œ ì‚¬ìš©í• ê¹Œ?

* Activityë¡œ í™”ë©´ì„ ê³„ì† ë„˜ê¸°ëŠ” ê²ƒë³´ë‹¤ëŠ” Fragmentë¡œ **ì¼ë¶€ë§Œ** ë°”ê¾¸ëŠ” ê²ƒì´ **ìì› ì´ìš©ëŸ‰ì´ ì ì–´ ì†ë„ê°€ ë¹ ë¥´ê¸° ë•Œë¬¸**ì´ë‹¤.
* Fragmentë¥¼ ì‚¬ìš©í•˜ë©´ **Activityë¥¼ ì ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤**.
* Activityì˜ **ë³µì¡ë„**ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
* Fragmentë¥¼ ì‚¬ìš©í•˜ë©´ **ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë ˆì´ì•„ì›ƒì„ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©**ì´ ê°€ëŠ¥í•˜ë‹¤.
* ìµœì†Œ í•œê°œì˜ Activityì•ˆì—ì„œ **Fragmentê³µê°„ì— Viewë§Œ ì§‘ì–´ë„£**ìœ¼ë©´ ì—¬ëŸ¬ **Activityë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ í™”ë©´ì„ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤**.



## ğŸ” í”„ë˜ê·¸ë¨¼íŠ¸ í™˜ê²½ì„¤ì •

```
dependencies {
    val fragment_version = "1.5.7"//ì—…ë°ì´íŠ¸ì—ë”°ë¼ ë‹¤ë¥´ë‹ˆ ì°¸ê³ í•˜ì—¬ ë„£ìœ¼ë©´ëœë‹¤.

    // Java language implementation
    implementation"androidx.fragment:fragment:$fragment_version"
    // Kotlin
    implementation"androidx.fragment:fragment-ktx:$fragment_version"
}
```

* í”„ë¡œì íŠ¸ì— AndroidX Fragment ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í¬í•¨í•˜ë ¤ë©´ ì•± `build.gradle`íŒŒì¼ì— ë‹¤ìŒ ì¢…ì†ì„±ì„ ì¶”ê°€í•´ì•¼í•œë‹¤.
* `$fragment_version` ì•ˆì—ëŠ” í˜„ì¬í”„ë˜ê·¸ë¨¼íŠ¸ì˜ ë²„ì „ì„ ë„£ìœ¼ë©´ëœë‹¤.



## í”„ë˜ê·¸ë¨¼íŠ¸ ì˜ˆì œ ì‹¤ìŠµ

<img src="https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5cb79766-5967-4d87-a2ec-6b6bdb04230a%2FUntitled.png?table=block&id=54a599a9-3719-4f3b-bda3-ff727a1687ad&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1060&userId=&cache=v2" width=50%>

- **1) ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ fragment í™”ë©´ì´ ë³€ê²½ ë˜ëŠ” ì˜ˆì œ**
- **2) ì•„ë˜ì™€ ê°™ì´ Frag1 ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í”„ë˜ê·¸ë¨¼íŠ¸ 1ë²ˆ í™”ë©´ì´ í‘œì‹œëœë‹¤.**
- **3) Frag2 ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í”„ë˜ê·¸ë¨¼íŠ¸ 2ë²ˆ í™”ë©´ì´ í‘œì‹œëœë‹¤.**

---

### 1) í”„ë˜ê·¸ë¨¼íŠ¸ ì •ì˜í•˜ê¸°

 ì•ˆë“œë¡œì´ë“œìŠ¤íŠœë””ì˜¤ì—ì„œ **File > New > Fragment > Fragment(Blank)**ë¥¼ ì´ìš©í•˜ì—¬ í”„ë˜ê·¸ë¨¼íŠ¸ íŒŒì¼ì„ ìƒì„±í•´ì¤€ë‹¤.

#### fragment_first.xml

<img src="../../../assets/img/blog/fragment1.png" width="50%">

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#40F44336"
    tools:context=".FirstFragment">

    <!-- TODO: Update blank fragment layout -->
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="ì²«ë²ˆì§¸ í”„ë˜ê·¸ë¨¼íŠ¸"
        android:textSize="30dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

* ìë™ìœ¼ë¡œ ìƒì„± ëœ fragment_first.xmlíŒŒì¼ì„ ì—´ê³  ìœ„ì™€ê°™ì´ ìˆ˜ì •

---

#### fragment_second.xml

<img src="../../../assets/img/blog/fragment2.png" width="50%">

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#36FFEB3B"
    tools:context=".FirstFragment">

    <!-- TODO: Update blank fragment layout -->
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="ë‘ë²ˆì§¸ í”„ë˜ê·¸ë¨¼íŠ¸"
        android:textSize="30dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

* ìë™ìœ¼ë¡œ ìƒì„± ëœ fragment_second.xmlíŒŒì¼ì„ ì—´ê³  ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •

---

#### activity_main.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">

    <FrameLayout
        android:id="@+id/frameLayout"
        android:layout_width="409dp"
        android:layout_height="650dp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent">

    </FrameLayout>

    <Button
        android:id="@+id/button"
        android:layout_width="170dp"
        android:layout_height="wrap_content"
        android:layout_marginStart="25dp"
        android:layout_marginTop="20dp"
        android:layout_marginBottom="20dp"
        android:text="Freg1"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/frameLayout" />

    <Button
        android:id="@+id/button2"
        android:layout_width="170dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="20dp"
        android:layout_marginEnd="25dp"
        android:layout_marginBottom="20dp"
        android:text="Freg2"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/frameLayout" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

* fragmentë¥¼ í‘œì‹œí•  FrameLayoutê³¼ ë²„íŠ¼ 2ê°œ ì¶”ê°€

---

#### MainActivity.kt

```kotlin
package com.example.frgment

import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.text.TextUtils.replace
import androidx.fragment.app.Fragment
import androidx.fragment.app.commit
import com.example.frgment.databinding.ActivityMainBinding

class MainActivity : AppCompatActivity() {
    private lateinit var binding:ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        val binding=ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)
		//ë²„íŠ¼ì„ ëˆŒëŸ¬ í”„ë˜ê·¸ë¨¼íŠ¸ê°€ ì „í™˜ë˜ë„ë¡ êµ¬í˜„
        binding.apply {
            button.setOnClickListener{
                setFragment(FirstFragment())
            }
            button2.setOnClickListener {
                setFragment(SecondFragment())
            }
        }
      	//ë²„íŠ¼ì„ ëˆ„ë¥´ê¸°ì „ì— ì‹œì‘í™”ë©´ì— ì²«ë²ˆì§¸í”„ë˜ê·¸ë¨¼íŠ¸ í™”ë©´ì„ë„ì›Œì¤Œ
        setFragment(FirstFragment())
    }
  	//inflate()í•¨ìˆ˜ë¥¼ í†µí•´ì„œÂ fragment_first.xmlÂ íŒŒì¼ë¡œë¶€í„° ë ˆì´ì•„ì›ƒì„ ë¡œë“œ
    private fun setFragment(frag : Fragment) {
        supportFragmentManager.commit {
            replace(R.id.frameLayout, frag)
            setReorderingAllowed(true)
            addToBackStack("")
        }
    }
}
```

- í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ìƒì„±í•˜ë ¤ë©´ Fragmentì˜ ì„œë¸Œí´ë˜ìŠ¤(ë˜ëŠ” ì´ì˜ ê¸°ì¡´ ì„œë¸Œí´ë˜ìŠ¤)ë¥¼ ìƒì„±
  - **í”„ë˜ê·¸ë¨¼íŠ¸ì— ëŒ€í•´ ë ˆì´ì•„ì›ƒì„ ì œê³µí•˜ë ¤ë©´ ë°˜ë“œì‹œ onCreateView()ì½œë°± ë©”ì„œë“œë¥¼  êµ¬í˜„**

---

#### ğŸ“±ê²°ê³¼

<img src="../../../assets/img/blog/fragment.gif" width="50%">
